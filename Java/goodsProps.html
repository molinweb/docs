<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | 漠林</title>
    <meta name="description" content=" 耕耘漠林里，最美柒月天。风雨随缘至，草木自盎然。">
    <link rel="icon" href="/docs/favicon.ico">
    
    <link rel="preload" href="/docs/assets/css/0.styles.477c69b1.css" as="style"><link rel="preload" href="/docs/assets/js/app.5baed39a.js" as="script"><link rel="preload" href="/docs/assets/js/6.5a84610a.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.8978b2ec.js"><link rel="prefetch" href="/docs/assets/js/11.b5717aed.js"><link rel="prefetch" href="/docs/assets/js/12.725ee489.js"><link rel="prefetch" href="/docs/assets/js/13.6ef53374.js"><link rel="prefetch" href="/docs/assets/js/14.32d6e4c2.js"><link rel="prefetch" href="/docs/assets/js/15.ad20e6b2.js"><link rel="prefetch" href="/docs/assets/js/16.952fef5a.js"><link rel="prefetch" href="/docs/assets/js/17.855b0d3b.js"><link rel="prefetch" href="/docs/assets/js/18.3641178c.js"><link rel="prefetch" href="/docs/assets/js/19.5de18ed0.js"><link rel="prefetch" href="/docs/assets/js/2.63264812.js"><link rel="prefetch" href="/docs/assets/js/20.1f9991ea.js"><link rel="prefetch" href="/docs/assets/js/21.3e964fb7.js"><link rel="prefetch" href="/docs/assets/js/22.ae3912fd.js"><link rel="prefetch" href="/docs/assets/js/23.5e7e10c0.js"><link rel="prefetch" href="/docs/assets/js/24.504324a3.js"><link rel="prefetch" href="/docs/assets/js/25.d9c755fc.js"><link rel="prefetch" href="/docs/assets/js/3.0f980849.js"><link rel="prefetch" href="/docs/assets/js/4.a4618c7e.js"><link rel="prefetch" href="/docs/assets/js/5.747c7a0c.js"><link rel="prefetch" href="/docs/assets/js/7.54a5d5c1.js"><link rel="prefetch" href="/docs/assets/js/8.0c3cfff3.js"><link rel="prefetch" href="/docs/assets/js/9.5a5a6f5c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.477c69b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">漠林</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">React</a></div><div class="nav-item"><a href="/docs/Java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/docs/Learning/" class="nav-link">Learning</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/React/" class="nav-link">React</a></div><div class="nav-item"><a href="/docs/Java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/docs/Learning/" class="nav-link">Learning</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/Java/Lombok.html" class="sidebar-link">Lombok</a></li><li><a href="/docs/Java/goodsProps.html" class="active sidebar-link">宝贝属性详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#属性" class="sidebar-link">属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#普通字段" class="sidebar-link">普通字段</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#子属性列表" class="sidebar-link">子属性列表</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#材质属性信息" class="sidebar-link">材质属性信息</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#度量衡属性信息" class="sidebar-link">度量衡属性信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#属性组装" class="sidebar-link">属性组装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#枚举属性" class="sidebar-link">枚举属性</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#自定义属性" class="sidebar-link">自定义属性</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#枚举-自定义" class="sidebar-link">枚举&amp;&amp;自定义</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#子属性" class="sidebar-link">子属性</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#材质属性" class="sidebar-link">材质属性</a></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#度量衡属性" class="sidebar-link">度量衡属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/Java/goodsProps.html#属性解析" class="sidebar-link">属性解析</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2> <p>淘宝不同的宝贝类目商品属性不同，他们在本质上分为两类：</p> <ul><li>销售属性（sku）</li> <li>商品属性</li></ul> <p>这里我们只讨论其中的商品属性。</p> <h2 id="属性"><a href="#属性" aria-hidden="true" class="header-anchor">#</a> 属性</h2> <p>通过<code>taobao.itemprops.get</code>获得</p> <p>入参：</p> <ul><li><code>cid</code> 叶子类目ID</li> <li><code>pid</code> 属性id (取类目属性时，传pid，不用同时传PID和parent_pid)</li> <li><code>parent_pid</code>父属性ID</li> <li><code>child_path</code>类目子属性路径,由该子属性上层的类目属性和类目属性值组成,格式<code>pid:vid;pid:vid</code>取类目子属性需要传<code>child_path</code> <code>cid</code></li></ul> <h3 id="普通字段"><a href="#普通字段" aria-hidden="true" class="header-anchor">#</a> 普通字段</h3> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>pid</td> <td>属性id</td></tr> <tr><td>parent_pid</td> <td>父属性ID</td></tr> <tr><td>name</td> <td>属性名</td></tr> <tr><td>is_key_prop</td> <td>是否关键属性</td></tr> <tr><td>is_sale_prop</td> <td>是否销售属性</td></tr> <tr><td>is_color_prop</td> <td>是否颜色属性</td></tr> <tr><td>is_enum_prop</td> <td>是否是可枚举属性</td></tr> <tr><td>is_input_prop</td> <td>在<code>is_enum_prop</code>是<code>true</code>的前提下，是否是卖家可以自行输入的属性（注：如果<code>is_enum_prop</code>返回<code>false</code>，该参数统一返回<code>false</code>）</td></tr> <tr><td>must</td> <td>是否为必选属性</td></tr> <tr><td>multi</td> <td>是否可以多选</td></tr> <tr><td>child_template</td> <td>子属性的模板</td></tr> <tr><td>prop_values</td> <td><a href="/docs/Java/goodsProps.html#子属性列表">子属性列表</a></td></tr> <tr><td>is_material</td> <td>是否是材质属性项</td></tr> <tr><td>material_do</td> <td><a href="/docs/Java/goodsProps.html#材质属性信息">材质属性信息</a></td></tr> <tr><td>is_taosir</td> <td>是否度量衡属性项</td></tr> <tr><td>taosir_do</td> <td><a href="/docs/Java/goodsProps.html#度量衡属性信息">度量衡属性信息</a></td></tr></tbody></table> <h3 id="子属性列表"><a href="#子属性列表" aria-hidden="true" class="header-anchor">#</a> 子属性列表</h3> <table><thead><tr><td colspan="2">名称</td> <td>描述</td></tr></thead> <tr><td rowspan="5">prop_values</td></tr> <tr><td>pid</td> <td>属性ID</td></tr> <tr><td>vid</td> <td>属性值ID</td></tr> <tr><td>name</td> <td>属性值</td></tr> <tr><td>is_parent</td> <td>是否为父类目属性</td></tr></table> <h3 id="材质属性信息"><a href="#材质属性信息" aria-hidden="true" class="header-anchor">#</a> 材质属性信息</h3> <table><thead><tr><td colspan="3">名称</td> <td>描述</td></tr></thead> <tr><td rowspan="3">material_do</td> <td rowspan="3">materials</td></tr> <tr><td>name</td> <td>材质值名称</td></tr> <tr><td>need_content_number</td> <td>是否需要填写含量值</td></tr></table> <h3 id="度量衡属性信息"><a href="#度量衡属性信息" aria-hidden="true" class="header-anchor">#</a> 度量衡属性信息</h3> <table><thead><tr><td colspan="3">名称</td> <td>描述</td></tr></thead> <tr><td rowspan="12">taosir_do</td></tr> <tr><td colspan="2">precision</td> <td>数值小数点精度</td></tr> <tr><td colspan="2">type</td> <td>时间类型：0表示非时间，1表示时间点，2表示时间范围</td></tr> <tr><td rowspan="3">std_unit_list</td></tr> <tr><td>attr_key</td> <td rowspan="2">卖家可选单位List&lt;单位id，单位名&gt;</td></tr> <tr><td>attr_value</td></tr> <tr><td rowspan="6">expr_el_list</td></tr> <tr><td>text</td> <td>显示文本</td></tr> <tr><td>is_show_label</td> <td>是否只用于显示的文本元素</td></tr> <tr><td>is_label</td> <td>是否文本元素，用于显示也用于组装value_name，比如:操作符</td></tr> <tr><td>is_input</td> <td>是否输入框</td></tr> <tr><td>type</td> <td>0类型为label元素，只用于展示，不用于组装value_name。1类型为label元素，用于展示，用于组装value_name。
    2类型为输入框元素，主要用于卖家输入数据。卖家填写完后需要重新设置该元素的文本数据。</td></tr></table> <h2 id="属性组装"><a href="#属性组装" aria-hidden="true" class="header-anchor">#</a> 属性组装</h2> <p>首先过滤掉销售属性 <code>is_sale_prop===false</code></p> <p>初始化一个默认商品，需要组装三个字段</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="枚举属性"><a href="#枚举属性" aria-hidden="true" class="header-anchor">#</a> 枚举属性</h3> <p><code>is_enum_prop===true</code></p> <p><code>is_input_prop===false</code></p> <p><code>prop_values!==null</code></p> <p>枚举属性的处理相对简单，遍历<code>prop_values</code>列表，将用户选择值拼入商品<code>props</code>字段，格式为<code>pid:vid</code></p> <ul><li>用户选择<code>包装方式:散装</code> <ul><li>包装方式pid为<code>30000</code></li> <li>散装子属性vid为<code>129808</code></li></ul></li></ul> <p>此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="自定义属性"><a href="#自定义属性" aria-hidden="true" class="header-anchor">#</a> 自定义属性</h3> <p><code>is_enum_prop===true</code></p> <p><code>is_input_prop===true</code></p> <p><code>prop_values===null</code></p> <p>将<code>pid</code>拼入<code>input_pids</code>，输入值拼入<code>input_str</code></p> <ul><li>用户输入<code>货号:2019年夏款</code> <ul><li>货号pid为<code>21394</code>
此时商品属性为</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="枚举-自定义"><a href="#枚举-自定义" aria-hidden="true" class="header-anchor">#</a> 枚举&amp;&amp;自定义</h3> <p><code>is_enum_prop===true</code></p> <p><code>is_input_prop===true</code></p> <p><code>prop_values!==null</code></p> <p>有些属性即支持选择也支持自定义输入，此时根据用户操作做判断。如果是选择，那么按枚举属性处理，如果是输入，按自定义输入处理。</p> <h3 id="子属性"><a href="#子属性" aria-hidden="true" class="header-anchor">#</a> 子属性</h3> <h4 id="作为单独属性"><a href="#作为单独属性" aria-hidden="true" class="header-anchor">#</a> 作为单独属性</h4> <p>在枚举属性的前提下，如果用户选择的选项<code>is_parent</code>为<code>true</code>，那么该属性下还有附加子属性。</p> <p>用户选择<code>产地:中国大陆</code></p> <ul><li>产地pid为<code>21299</code></li> <li>中国大陆的属性为</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  vid<span class="token punctuation">:</span><span class="token number">27772</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span><span class="token string">'中国大陆'</span><span class="token punctuation">,</span>
  is_parent<span class="token punctuation">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时，再次调用接口<code>taobao.itemprops.get</code>，入参添加<code>child_path</code>为<code>21299:27772</code> ，可获得产地子属性<code>省份</code>，子属性作为单独属性重新做处理。如果子属性选项依旧含有子属性，以此类推直至最末节点。</p> <p>用户最终选择<code>产地:中国大陆</code> <code>省份:山东省</code> <code>城市:临沂市</code></p> <ul><li>产地pid为<code>21299</code> 中国大陆vid为<code>27772</code></li> <li>子属性省份pid为<code>24557</code> 山东省vid为<code>254221</code></li> <li>叶子属性城市pid为<code>31778</code> 临沂市vid为<code>47653222</code></li></ul> <p>此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808,21299:27772,24557:254221,31778:47653222'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款'</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="作为附属属性"><a href="#作为附属属性" aria-hidden="true" class="header-anchor">#</a> 作为附属属性</h4> <p>有些枚举属性的子选项没有<code>is_parent===true</code>，但是该属性含有<code>child_template</code>字段，那么该属性的子属性是作为附属属性存在，拼接时和父属性共用一个字段。</p> <p>用户选择<code>品牌:阿迪达斯</code></p> <ul><li>品牌pid为<code>20000</code></li> <li>品牌child_template为<code>系列;型号</code></li></ul> <p><strong>情景1</strong> 品牌为自定义输入值</p> <ul><li><code>系列</code> <code>型号</code>将作为品牌的必填<strong>自定义输入</strong>子属性（是否必填跟随品牌判断）</li> <li>用户输入<code>品牌</code> <code>系列</code> <code>型号</code>三个字段，输入值<code>阿迪达斯</code> <code>三叶草</code> <code>跑步鞋系列</code></li></ul> <p>需拼接字段为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>input_pids<span class="token punctuation">:</span><span class="token string">'20000'</span>
input_str<span class="token punctuation">:</span><span class="token string">'阿迪达斯;系列;三叶草;型号;跑步鞋'</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">input_str结构</p> <p><code>父属性值;一级子属性名;一级子属性值;二级子属性名;二级子属性值,....</code>以分号分隔</p></div> <p>此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808,21299:27772,24557:254221,31778:47653222'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394,20000'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款,阿迪达斯;系列;三叶草;型号;跑步鞋'</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>情景2</strong> 品牌为枚举选择值</p> <ul><li><strong>情景2.1</strong> 用户选择的值<code>is_parent===true</code></li></ul> <p>这种情况下，<code>is_parent===true</code>优先级高于<code>child_template</code>，即按照上述<code>作为单独属性</code>进行处理，<strong>忽略<code>child_template</code>字段</strong>。</p> <ul><li><strong>情景2.2</strong> 用户选择的值没有<code>is_parent</code>字段</li></ul> <p>用户选择<code>品牌:耐克</code>,该子属性<code>is_parent===false</code></p> <ul><li>品牌pid为<code>20000</code></li> <li>耐克vid为<code>44335</code></li></ul> <p>那么此时<code>系列</code> <code>型号</code>将作为品牌的必填<strong>自定义输入</strong>子属性（是否必填跟随品牌判断）</p> <ul><li>用户输入<code>系列</code> <code>型号</code>两个字段，输入值<code>乔丹系列</code> <code>airjordan</code></li></ul> <p>需拼接字段为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>props<span class="token punctuation">:</span><span class="token string">'20000:44335'</span>
input_pids<span class="token punctuation">:</span><span class="token string">'20000'</span>
input_str<span class="token punctuation">:</span><span class="token string">'耐克;系列;乔丹系列;型号;airjordan'</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p> <p><code>品牌:耐克</code>需要在<code>props</code>和<code>input_pids</code> <code>input_str</code>同时拼入</p></div> <p>此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808,21299:27772,24557:254221,31778:47653222,20000:44335'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394,20000'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款,耐克;系列;乔丹系列;型号;airjordan'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="材质属性"><a href="#材质属性" aria-hidden="true" class="header-anchor">#</a> 材质属性</h3> <p><code>is_material===true</code></p> <p>属性中的<code>materials.item_materia_value_d_o</code>为可选材质列表，用户可选一种或多种材质。</p> <p>当材质<code>need_content_number===true</code>时，需要用户输入改材质含量。多种材质成分总和需为100%。</p> <p>用户选择三组材质信息分别为<code>彩棉</code> <code>羊毛</code> <code>棉</code>，其中<code>羊毛</code>和<code>棉</code>分别输入含量值<code>80%</code> <code>20%</code></p> <ul><li>材质pid为<code>149422948</code>
需拼接字段为</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>input_pids<span class="token punctuation">:</span><span class="token string">'149422948'</span>
input_str<span class="token punctuation">:</span><span class="token string">'彩棉 羊毛80% 棉20%'</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p> <p>材质值一律按照自定义属性进行拼接,用空格隔开，成分含量跟在材质值后</p></div> <p>此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808,21299:27772,24557:254221,31778:47653222,20000:44335'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394,20000,149422948'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款,耐克;系列;乔丹系列;型号;airjordan,彩棉 羊毛80% 棉20%'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="度量衡属性"><a href="#度量衡属性" aria-hidden="true" class="header-anchor">#</a> 度量衡属性</h3> <p><code>is_taosir===true</code></p> <h4 id="单位处理"><a href="#单位处理" aria-hidden="true" class="header-anchor">#</a> 单位处理</h4> <p>度量衡属性都是带单位的，有些度量衡只有一个单位，有些度量衡需要用户在单位列表中选择一个单位，该单位参与最后的组装。</p> <p>遍历单位列表供用户选择<code>taosir_do.std_unit_list.std_unit</code></p> <h4 id="输入值校验"><a href="#输入值校验" aria-hidden="true" class="header-anchor">#</a> 输入值校验</h4> <p>度量衡输入为纯数字,需获取<code>taosir_do.precision</code>对输入值进行校验</p> <p><code>precision</code></p> <table><thead><tr><th>值</th> <th>精度</th></tr></thead> <tbody><tr><td>0</td> <td>整数</td></tr> <tr><td>1</td> <td>保留一位小数</td></tr> <tr><td>2</td> <td>保留两位小数</td></tr></tbody></table> <h4 id="获取用户输入"><a href="#获取用户输入" aria-hidden="true" class="header-anchor">#</a> 获取用户输入</h4> <h5 id="度量衡不含输入模板"><a href="#度量衡不含输入模板" aria-hidden="true" class="header-anchor">#</a> 度量衡不含输入模板</h5> <p>这种情况下直接获取用户输入值并进行校验，带单位拼入<code>input_str</code>字段</p> <p>用户输入<code>净含量</code>属性值为<code>150</code>，获取到的单位为<code>g</code> <code>kg</code>，用户选择<code>g</code></p> <p>净含量pid为<code>25479856</code></p> <p>需拼接字段为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>input_pids<span class="token punctuation">:</span><span class="token string">'25479856'</span><span class="token punctuation">,</span>
input_str<span class="token punctuation">:</span><span class="token string">'150g'</span>
</code></pre></div><h5 id="度量衡含有输入模板"><a href="#度量衡含有输入模板" aria-hidden="true" class="header-anchor">#</a> 度量衡含有输入模板</h5> <p><code>taosir_do.expr_el_list.expr_el</code></p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td>text</td> <td>显示文本</td></tr> <tr><td>is_show_label</td> <td>是否只用于显示（不参与组装）</td></tr> <tr><td>is_label</td> <td>是否文本元素，用于显示也用于组装</td></tr> <tr><td>is_input</td> <td>是否输入框</td></tr></tbody></table> <p>用户选择<code>尺寸</code>属性,</p> <ul><li>尺寸pid为<code>3764420</code>
输入模板为</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span><span class="token string">'长'</span><span class="token punctuation">,</span>
    is_show_label<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    is_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_input<span class="token punctuation">:</span><span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    is_show_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_input<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span><span class="token string">'x'</span><span class="token punctuation">,</span>
    is_show_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_label<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    is_input<span class="token punctuation">:</span><span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span><span class="token string">'宽'</span><span class="token punctuation">,</span>
     is_show_label<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
     is_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
     is_input<span class="token punctuation">:</span><span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    is_show_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_label<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    is_input<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>给用户展示的输入框应为：长 [输入框] x 宽 [输入框]</p> <p>用户输入<code>长</code>120，<code>宽</code>30 ,选择单位为<code>cm</code></p> <p>那么对模板进行组装</p> <ul><li>第一个属性<code>is_show_label===true</code>，说明<code>长</code>不参与组装，略过</li> <li>第二个属性<code>is_input===true</code>是<code>输入框</code>，将用户输入值120拼入,拼入后<code>input_str</code>为<code>120</code></li> <li>第三个属性<code>is_label===true</code>,说明<code>x</code>参与组装,拼入后<code>input_str</code>为<code>120x</code></li> <li>第四个属性<code>is_label===true</code>,说明<code>宽</code>不参与组装，略过</li> <li>第五个属性<code>is_input===true</code>是<code>输入框</code>，将用户输入值30拼入,拼入后<code>input_str</code>为<code>120x30</code></li></ul> <p>遍历结束，拼入用户所选单位<code>cm</code>。此时，需拼接字段为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>input_pids<span class="token punctuation">:</span><span class="token string">'3764420'</span><span class="token punctuation">,</span>
input_str<span class="token punctuation">:</span><span class="token string">'120x30cm'</span>
</code></pre></div><p>将净含量，尺寸拼入，此时商品属性为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>item<span class="token punctuation">:</span><span class="token punctuation">{</span>
  props<span class="token punctuation">:</span><span class="token string">'30000:129808,21299:27772,24557:254221,31778:47653222,20000:44335'</span><span class="token punctuation">,</span>
  input_pids<span class="token punctuation">:</span><span class="token string">'21394,20000,149422948,25479856,3764420'</span><span class="token punctuation">,</span>
  input_str<span class="token punctuation">:</span><span class="token string">'2019年夏款,耐克;系列;乔丹系列;型号;airjordan,彩棉 羊毛80% 棉20%,150g,120x30cm'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="属性解析"><a href="#属性解析" aria-hidden="true" class="header-anchor">#</a> 属性解析</h2> <p>待完成</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/21/2019, 3:27:26 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/Java/Lombok.html" class="prev">
          Lombok
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/docs/assets/js/app.5baed39a.js" defer></script><script src="/docs/assets/js/6.5a84610a.js" defer></script>
  </body>
</html>
